"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.InMemoryCacheAdapter = void 0;

var _LRUCache = require("./LRUCache");

class InMemoryCacheAdapter {
  constructor(ctx) {
    this.cache = new _LRUCache.LRUCache(ctx);
  }

  get(key) {
    const record = this.cache.get(key);

    if (record === null) {
      return Promise.resolve(null);
    }

    return Promise.resolve(record);
  }

  put(key, value, ttl) {
    this.cache.put(key, value, ttl);
    return Promise.resolve();
  }

  del(key) {
    this.cache.del(key);
    return Promise.resolve();
  }

  clear() {
    this.cache.clear();
    return Promise.resolve();
  }

}

exports.InMemoryCacheAdapter = InMemoryCacheAdapter;
var _default = InMemoryCacheAdapter;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJJbk1lbW9yeUNhY2hlQWRhcHRlciIsImNvbnN0cnVjdG9yIiwiY3R4IiwiY2FjaGUiLCJMUlVDYWNoZSIsImdldCIsImtleSIsInJlY29yZCIsIlByb21pc2UiLCJyZXNvbHZlIiwicHV0IiwidmFsdWUiLCJ0dGwiLCJkZWwiLCJjbGVhciJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9BZGFwdGVycy9DYWNoZS9Jbk1lbW9yeUNhY2hlQWRhcHRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMUlVDYWNoZSB9IGZyb20gJy4vTFJVQ2FjaGUnO1xuXG5leHBvcnQgY2xhc3MgSW5NZW1vcnlDYWNoZUFkYXB0ZXIge1xuICBjb25zdHJ1Y3RvcihjdHgpIHtcbiAgICB0aGlzLmNhY2hlID0gbmV3IExSVUNhY2hlKGN0eCk7XG4gIH1cblxuICBnZXQoa2V5KSB7XG4gICAgY29uc3QgcmVjb3JkID0gdGhpcy5jYWNoZS5nZXQoa2V5KTtcbiAgICBpZiAocmVjb3JkID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlY29yZCk7XG4gIH1cblxuICBwdXQoa2V5LCB2YWx1ZSwgdHRsKSB7XG4gICAgdGhpcy5jYWNoZS5wdXQoa2V5LCB2YWx1ZSwgdHRsKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICBkZWwoa2V5KSB7XG4gICAgdGhpcy5jYWNoZS5kZWwoa2V5KTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICB0aGlzLmNhY2hlLmNsZWFyKCk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEluTWVtb3J5Q2FjaGVBZGFwdGVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRU8sTUFBTUEsb0JBQU4sQ0FBMkI7RUFDaENDLFdBQVcsQ0FBQ0MsR0FBRCxFQUFNO0lBQ2YsS0FBS0MsS0FBTCxHQUFhLElBQUlDLGtCQUFKLENBQWFGLEdBQWIsQ0FBYjtFQUNEOztFQUVERyxHQUFHLENBQUNDLEdBQUQsRUFBTTtJQUNQLE1BQU1DLE1BQU0sR0FBRyxLQUFLSixLQUFMLENBQVdFLEdBQVgsQ0FBZUMsR0FBZixDQUFmOztJQUNBLElBQUlDLE1BQU0sS0FBSyxJQUFmLEVBQXFCO01BQ25CLE9BQU9DLE9BQU8sQ0FBQ0MsT0FBUixDQUFnQixJQUFoQixDQUFQO0lBQ0Q7O0lBQ0QsT0FBT0QsT0FBTyxDQUFDQyxPQUFSLENBQWdCRixNQUFoQixDQUFQO0VBQ0Q7O0VBRURHLEdBQUcsQ0FBQ0osR0FBRCxFQUFNSyxLQUFOLEVBQWFDLEdBQWIsRUFBa0I7SUFDbkIsS0FBS1QsS0FBTCxDQUFXTyxHQUFYLENBQWVKLEdBQWYsRUFBb0JLLEtBQXBCLEVBQTJCQyxHQUEzQjtJQUNBLE9BQU9KLE9BQU8sQ0FBQ0MsT0FBUixFQUFQO0VBQ0Q7O0VBRURJLEdBQUcsQ0FBQ1AsR0FBRCxFQUFNO0lBQ1AsS0FBS0gsS0FBTCxDQUFXVSxHQUFYLENBQWVQLEdBQWY7SUFDQSxPQUFPRSxPQUFPLENBQUNDLE9BQVIsRUFBUDtFQUNEOztFQUVESyxLQUFLLEdBQUc7SUFDTixLQUFLWCxLQUFMLENBQVdXLEtBQVg7SUFDQSxPQUFPTixPQUFPLENBQUNDLE9BQVIsRUFBUDtFQUNEOztBQTFCK0I7OztlQTZCbkJULG9CIn0=