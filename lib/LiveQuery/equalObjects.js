"use strict";

var toString = Object.prototype.toString;
/**
 * Determines whether two objects represent the same primitive, special Parse
 * type, or full Parse Object.
 */

function equalObjects(a, b) {
  if (typeof a !== typeof b) {
    return false;
  }

  if (typeof a !== 'object') {
    return a === b;
  }

  if (a === b) {
    return true;
  }

  if (toString.call(a) === '[object Date]') {
    if (toString.call(b) === '[object Date]') {
      return +a === +b;
    }

    return false;
  }

  if (Array.isArray(a)) {
    if (Array.isArray(b)) {
      if (a.length !== b.length) {
        return false;
      }

      for (var i = 0; i < a.length; i++) {
        if (!equalObjects(a[i], b[i])) {
          return false;
        }
      }

      return true;
    }

    return false;
  }

  if (Object.keys(a).length !== Object.keys(b).length) {
    return false;
  }

  for (var key in a) {
    if (!equalObjects(a[key], b[key])) {
      return false;
    }
  }

  return true;
}

module.exports = equalObjects;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ0b1N0cmluZyIsIk9iamVjdCIsInByb3RvdHlwZSIsImVxdWFsT2JqZWN0cyIsImEiLCJiIiwiY2FsbCIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsImkiLCJrZXlzIiwia2V5IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9MaXZlUXVlcnkvZXF1YWxPYmplY3RzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHR3byBvYmplY3RzIHJlcHJlc2VudCB0aGUgc2FtZSBwcmltaXRpdmUsIHNwZWNpYWwgUGFyc2VcbiAqIHR5cGUsIG9yIGZ1bGwgUGFyc2UgT2JqZWN0LlxuICovXG5mdW5jdGlvbiBlcXVhbE9iamVjdHMoYSwgYikge1xuICBpZiAodHlwZW9mIGEgIT09IHR5cGVvZiBiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgYSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfVxuICBpZiAoYSA9PT0gYikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICh0b1N0cmluZy5jYWxsKGEpID09PSAnW29iamVjdCBEYXRlXScpIHtcbiAgICBpZiAodG9TdHJpbmcuY2FsbChiKSA9PT0gJ1tvYmplY3QgRGF0ZV0nKSB7XG4gICAgICByZXR1cm4gK2EgPT09ICtiO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShiKSkge1xuICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFlcXVhbE9iamVjdHMoYVtpXSwgYltpXSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKE9iamVjdC5rZXlzKGEpLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMoYikubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAodmFyIGtleSBpbiBhKSB7XG4gICAgaWYgKCFlcXVhbE9iamVjdHMoYVtrZXldLCBiW2tleV0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVxdWFsT2JqZWN0cztcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxRQUFRLEdBQUdDLE1BQU0sQ0FBQ0MsU0FBUCxDQUFpQkYsUUFBaEM7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxTQUFTRyxZQUFULENBQXNCQyxDQUF0QixFQUF5QkMsQ0FBekIsRUFBNEI7RUFDMUIsSUFBSSxPQUFPRCxDQUFQLEtBQWEsT0FBT0MsQ0FBeEIsRUFBMkI7SUFDekIsT0FBTyxLQUFQO0VBQ0Q7O0VBQ0QsSUFBSSxPQUFPRCxDQUFQLEtBQWEsUUFBakIsRUFBMkI7SUFDekIsT0FBT0EsQ0FBQyxLQUFLQyxDQUFiO0VBQ0Q7O0VBQ0QsSUFBSUQsQ0FBQyxLQUFLQyxDQUFWLEVBQWE7SUFDWCxPQUFPLElBQVA7RUFDRDs7RUFDRCxJQUFJTCxRQUFRLENBQUNNLElBQVQsQ0FBY0YsQ0FBZCxNQUFxQixlQUF6QixFQUEwQztJQUN4QyxJQUFJSixRQUFRLENBQUNNLElBQVQsQ0FBY0QsQ0FBZCxNQUFxQixlQUF6QixFQUEwQztNQUN4QyxPQUFPLENBQUNELENBQUQsS0FBTyxDQUFDQyxDQUFmO0lBQ0Q7O0lBQ0QsT0FBTyxLQUFQO0VBQ0Q7O0VBQ0QsSUFBSUUsS0FBSyxDQUFDQyxPQUFOLENBQWNKLENBQWQsQ0FBSixFQUFzQjtJQUNwQixJQUFJRyxLQUFLLENBQUNDLE9BQU4sQ0FBY0gsQ0FBZCxDQUFKLEVBQXNCO01BQ3BCLElBQUlELENBQUMsQ0FBQ0ssTUFBRixLQUFhSixDQUFDLENBQUNJLE1BQW5CLEVBQTJCO1FBQ3pCLE9BQU8sS0FBUDtNQUNEOztNQUNELEtBQUssSUFBSUMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR04sQ0FBQyxDQUFDSyxNQUF0QixFQUE4QkMsQ0FBQyxFQUEvQixFQUFtQztRQUNqQyxJQUFJLENBQUNQLFlBQVksQ0FBQ0MsQ0FBQyxDQUFDTSxDQUFELENBQUYsRUFBT0wsQ0FBQyxDQUFDSyxDQUFELENBQVIsQ0FBakIsRUFBK0I7VUFDN0IsT0FBTyxLQUFQO1FBQ0Q7TUFDRjs7TUFDRCxPQUFPLElBQVA7SUFDRDs7SUFDRCxPQUFPLEtBQVA7RUFDRDs7RUFDRCxJQUFJVCxNQUFNLENBQUNVLElBQVAsQ0FBWVAsQ0FBWixFQUFlSyxNQUFmLEtBQTBCUixNQUFNLENBQUNVLElBQVAsQ0FBWU4sQ0FBWixFQUFlSSxNQUE3QyxFQUFxRDtJQUNuRCxPQUFPLEtBQVA7RUFDRDs7RUFDRCxLQUFLLElBQUlHLEdBQVQsSUFBZ0JSLENBQWhCLEVBQW1CO0lBQ2pCLElBQUksQ0FBQ0QsWUFBWSxDQUFDQyxDQUFDLENBQUNRLEdBQUQsQ0FBRixFQUFTUCxDQUFDLENBQUNPLEdBQUQsQ0FBVixDQUFqQixFQUFtQztNQUNqQyxPQUFPLEtBQVA7SUFDRDtFQUNGOztFQUNELE9BQU8sSUFBUDtBQUNEOztBQUVEQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJYLFlBQWpCIn0=